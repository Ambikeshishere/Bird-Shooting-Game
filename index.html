<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Responsive Bird Clicking Game</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      background: skyblue;
      display: flex;
      flex-direction: column;
      align-items: center;
      font-family: Arial, sans-serif;
      overflow-x: hidden;
    }

    h1 {
      margin: 1vh;
      color: #fff;
      font-size: 4vw;
      text-align: center;
    }

    #score {
      font-size: 2.5vw;
      color: #fff;
      margin: 0.5vh;
      text-align: center;
    }

    #gameArea {
      position: relative;
      width: 95vw;
      height: 65vh;
      border: 2px solid #fff;
      background: linear-gradient(#87ceeb, #e0f7fa);
      overflow: hidden;
      cursor: crosshair;
      border-radius: 1vw;
    }

    /* Sun */
    #sun {
      position: absolute;
      top: 5%;
      right: 5%;
      width: 10vw;
      height: 10vw;
      z-index: 0; /* behind clouds and birds */
      pointer-events: none;
    }

    /* Grass at the bottom */
    #grass {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 10%;
      background: linear-gradient(to top, #2e8b57, #3cb371);
      z-index: 1;
    }

    .bird {
      position: absolute;
      width: 6vw;
      height: 6vw;
      background-image: url('bird.png'); /* replace with your bird image */
      background-size: cover;
      background-position: center;
      cursor: pointer;
      z-index: 2;
    }

    .blood {
      position: absolute;
      width: 6vw;
      height: 6vw;
      background-image: url('blood.png'); /* replace with your blood image */
      background-size: cover;
      background-position: center;
      pointer-events: none;
      animation: fadeOut 0.5s forwards;
      z-index: 3;
    }

    @keyframes fadeOut {
      0% { opacity: 1; transform: scale(1); }
      100% { opacity: 0; transform: scale(1.5); }
    }

    /* Clouds */
    .cloud {
      position: absolute;
      width: 12vw;
      height: 8vw;
      background-image: url('cloud.png'); /* replace with your cloud image */
      background-size: cover;
      background-position: center;
      opacity: 0.7;
      z-index: 0;
    }

    #gameOver {
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0,0,0,0.7);
      color: white;
      padding: 2vh 4vw;
      font-size: 3vw;
      border-radius: 1vw;
      text-align: center;
      z-index: 4;
    }

    @media (max-width: 600px) {
      h1 { font-size: 6vw; }
      #score { font-size: 4vw; }
      .bird, .blood { width: 10vw; height: 10vw; }
      .cloud { width: 20vw; height: 12vw; }
      #sun { width: 20vw; height: 20vw; top: 2%; right: 2%; }
      #gameOver { font-size: 5vw; }
    }
  </style>
</head>
<body>
  <h1>Bird Clicking Game</h1>
  <div id="score">Score: 0</div>
  <div id="gameArea">
    <img id="sun" src="sun.png" alt="Sun">
    <div id="grass"></div>
    <div id="gameOver">Game Over! Refresh to play again</div>
  </div>

  <!-- Gunshot audio -->
  <audio id="gunshotSound" src="gunshot.mp3" preload="auto"></audio>

  <script>
    const gameArea = document.getElementById('gameArea');
    const scoreDisplay = document.getElementById('score');
    const gameOverScreen = document.getElementById('gameOver');
    const gunshotSound = document.getElementById('gunshotSound');

    let score = 0;
    let missed = 0;
    const maxMissed = 100;
    let birdSpeed = 0.25;
    let waveInterval = 2000;
    let gameInterval;

    function startGame() {
      createClouds();
      gameInterval = setInterval(createBirdWave, waveInterval);
    }
    startGame();

    function createBirdWave() {
      const numBirds = 3 + Math.floor(Math.random() * 3); // 3-5 birds per wave
      for (let i = 0; i < numBirds; i++) {
        setTimeout(() => createBird(i), i * 300);
      }
    }

    function createBird(i) {
      const bird = document.createElement('div');
      bird.classList.add('bird');

      const maxY = gameArea.clientHeight - gameArea.clientWidth * 0.06 - gameArea.clientHeight * 0.1; // above grass
      let y = Math.random() * maxY;
      bird.style.top = y + 'px';

      const startFromLeft = Math.random() > 0.5;
      bird.style.left = startFromLeft ? '-6vw' : '100vw';
      bird.style.transform = startFromLeft ? 'scaleX(1)' : 'scaleX(-1)';

      bird.addEventListener('click', (event) => {
        gunshotSound.currentTime = 0;
        gunshotSound.play();

        createBlood(event.clientX, event.clientY);

        score++;
        scoreDisplay.textContent = 'Score: ' + score;
        birdSpeed += 0.005;

        bird.remove();
      });

      gameArea.appendChild(bird);

      let posX = startFromLeft ? -6 : 100;
      const direction = startFromLeft ? 1 : -1;

      const amplitude = 20;
      const frequency = 0.02 + Math.random() * 0.03;

      const move = setInterval(() => {
        posX += birdSpeed * direction;
        bird.style.left = posX + 'vw';

        const wobble = Math.sin(posX * frequency * Math.PI * 2) * amplitude;
        bird.style.top = (y + wobble) + 'px';

        if ((startFromLeft && posX > 100) || (!startFromLeft && posX < -6)) {
          bird.remove();
          clearInterval(move);

          missed++;
          if (missed >= maxMissed) {
            gameOver();
          }
        }
      }, 16);
    }

    function createBlood(x, y) {
      const rect = gameArea.getBoundingClientRect();
      const blood = document.createElement('div');
      blood.classList.add('blood');

      blood.style.left = (x - rect.left - gameArea.clientWidth * 0.03) + 'px';
      blood.style.top = (y - rect.top - gameArea.clientWidth * 0.03) + 'px';

      gameArea.appendChild(blood);

      setTimeout(() => blood.remove(), 500);
    }

    function createClouds() {
      for (let i = 0; i < 5; i++) {
        const cloud = document.createElement('div');
        cloud.classList.add('cloud');

        const topPos = Math.random() * (gameArea.clientHeight * 0.5);
        cloud.style.top = topPos + 'px';
        cloud.style.left = Math.random() * 100 + 'vw';
        gameArea.appendChild(cloud);

        const speed = 0.02 + Math.random() * 0.03;

        const moveCloud = setInterval(() => {
          let currentLeft = parseFloat(cloud.style.left);
          currentLeft += speed;
          if (currentLeft > 100) currentLeft = -20;
          cloud.style.left = currentLeft + 'vw';
        }, 50);
      }
    }

    function gameOver() {
      clearInterval(gameInterval);
      document.querySelectorAll('.bird').forEach(bird => bird.remove());
      gameOverScreen.textContent = `Game Over! Score: ${score}. Refresh to play again.`;
      gameOverScreen.style.display = 'block';
    }
  </script>
</body>
</html>
